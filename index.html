<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Division 2 Gear Builder</title>
    <style>
        /* CSS variables for consistent color scheme throughout the app */
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c;
            --accent-color: #3498db;
            --background-color: #ecf0f1;
            --text-color: #2c3e50;
            --card-background: #ffffff;
            --exotic-color: #ff9900;
            --named-color: #9b59b6;
            --gearset-color: #2ecc71;
            --high-end-color: #e74c3c;
        }
        
        /* Global reset for consistent styling across browsers */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Main page styling */
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        /* Header section at the top of the page */
        header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1rem;
        }
        
        /* Container to center content with max width */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Tab navigation styling */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        /* Individual tab styling */
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f4f4f4;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
        }
        
        /* Active tab styling */
        .tab.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* Tab content areas (hidden by default) */
        .tab-content {
            display: none;
        }
        
        /* Active tab content */
        .tab-content.active {
            display: block;
        }
        
        /* Form styling for gear selection */
        .gear-form {
            background-color: var(--card-background);
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        /* Form group spacing */
        .form-group {
            margin-bottom: 15px;
        }
        
        /* Label styling */
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        /* Input and select element styling */
        select, input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        /* Button styling */
        button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        
        /* Button hover effect */
        button:hover {
            background-color: #2980b9;
        }
        
        /* Build result display area */
        .build-result {
            background-color: var(--card-background);
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Individual gear slot in the build display */
        .gear-slot {
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        /* Gear name styling */
        .gear-name {
            font-weight: bold;
        }
        
        /* Gear stats text styling */
        .gear-stats {
            margin-top: 5px;
            font-size: 0.9em;
        }
        
        /* Code example block styling */
        .code-example {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-top: 20px;
        }
        
        /* Preformatted text for code */
        pre {
            margin: 0;
        }
        
        /* Language tab for code examples */
        .language-tab {
            background-color: #444;
            color: white;
            padding: 5px 10px;
            border-radius: 5px 5px 0 0;
            display: inline-block;
        }
        
        /* Footer styling */
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            background-color: var(--primary-color);
            color: white;
        }
        
        /* Color coding for exotic gear items */
        .quality-exotic {
            color: var(--exotic-color);
        }
        
        /* Color coding for named gear items */
        .quality-named {
            color: var(--named-color);
        }
        
        /* Color coding for gearset items */
        .quality-gearset {
            color: var(--gearset-color);
        }
        
        /* Color coding for high-end gear items */
        .quality-high-end {
            color: var(--high-end-color);
        }
        
        /* Responsive design for mobile devices */
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                margin-bottom: 5px;
                border-radius: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Page header with title and description -->
    <header>
        <h1>Division 2 Gear Builder</h1>
        <p>Input your gear and generate optimized builds</p>
    </header>
    
    <!-- Main content container -->
    <div class="container">
        <!-- Tab navigation -->
        <div class="tabs">
            <div class="tab active" data-tab="input">Gear Input</div>
            <div class="tab" data-tab="build">Generated Build</div>
            <div class="tab" data-tab="code">Code Examples</div>
        </div>
        
        <!-- Gear Input Tab Content -->
        <div class="tab-content active" id="input-tab">
            <div class="gear-form">
                <h2>Enter Your Gear</h2>
                
                <!-- Form for selecting gear items -->
                <div class="form-group">
                    <label for="mask">Mask</label>
                    <select id="mask">
                        <option value="">Select a mask</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="backpack">Backpack</label>
                    <select id="backpack">
                        <option value="">Select a backpack</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="chest">Chest</label>
                    <select id="chest">
                        <option value="">Select a chest</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="gloves">Gloves</label>
                    <select id="gloves">
                        <option value="">Select gloves</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="holster">Holster</label>
                    <select id="holster">
                        <option value="">Select a holster</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="kneepads">Kneepads</label>
                    <select id="kneepads">
                        <option value="">Select kneepads</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="weapon">Primary Weapon</label>
                    <select id="weapon">
                        <option value="">Select a weapon</option>
                        <option value="famas">FAMAS 2010</option>
                        <option value="carbine7">Carbine 7</option>
                        <option value="m1a">Classic M1A</option>
                        <option value="vector">Vector SBR 9mm</option>
                        <option value="mk17">MK17</option>
                    </select>
                </div>
                
                <!-- Button to generate the build -->
                <button id="generate-build">Generate Build</button>
            </div>
        </div>
        
        <!-- Build Output Tab Content -->
        <div class="tab-content" id="build-tab">
            <div class="build-result">
                <h2>Your Optimized Build</h2>
                <div id="build-output">
                    <p>Select your gear and generate a build to see results here.</p>
                </div>
            </div>
        </div>
        
        <!-- Code Examples Tab Content -->
        <div class="tab-content" id="code-tab">
            <h2>Code Implementation Examples</h2>
            
            <!-- JavaScript Example -->
            <h3>JavaScript (Client-side)</h3>
            <div class="code-example">
                <div class="language-tab">JavaScript</div>
                <pre><code>// Example JavaScript code for client-side implementation</code></pre>
            </div>
            
            <!-- Python Example -->
            <h3>Python (Server-side)</h3>
            <div class="code-example">
                <div class="language-tab">Python</div>
                <pre><code># Example Python code for server-side implementation</code></pre>
            </div>
            
            <!-- PHP Example -->
            <h3>PHP (Server-side)</h3>
            <div class="code-example">
                <div class="language-tab">PHP</div>
                <pre><code>// Example PHP code for server-side implementation</code></pre>
            </div>
        </div>
    </div>
    
    <!-- Page footer -->
    <footer>
        <p>Division 2 Gear Builder &copy; 2023</p>
        <p>This site is not affiliated with Ubisoft or The Division franchise.</p>
    </footer>

    <script>
        // Tab functionality - handles switching between tabs
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Remove active class from all tabs and content
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });
        
        // Gear data based on the provided CSV
        const gearData = {
            masks: {
                'coyotes-mask': {
                    name: "Coyote's Mask",
                    brand: "Exotic",
                    core: "Weapon Damage",
                    attributes: ["Critical Hit Chance", "Critical Hit Damage"],
                    talent: "Pack Instincts",
                    quality: "Exotic"
                },
                // More mask items...
            },
            backpacks: {
                'acostas-go-bag': {
                    name: "Acosta's Go-Bag",
                    brand: "Exotic",
                    core: "Skill Tier",
                    attributes: ["Skill Haste", "Skill Damage"],
                    talent: "One in Hand...",
                    quality: "Exotic"
                },
                // More backpack items...
            },
            // Additional gear categories (chests, gloves, holsters, kneepads)...
        };

        // Populate dropdowns with gear options from the gearData object
        function populateDropdowns() {
            const slots = ['mask', 'backpack', 'chest', 'gloves', 'holster', 'kneepads'];
            
            slots.forEach(slot => {
                const dropdown = document.getElementById(slot);
                const gearItems = gearData[slot + 's'];
                
                // Clear existing options except the first one
                while (dropdown.options.length > 1) {
                    dropdown.remove(1);
                }
                
                // Add gear items to dropdown
                for (const [id, item] of Object.entries(gearItems)) {
                    const option = document.createElement('option');
                    option.value = id;
                    
                    // Add quality indicator
                    let qualityPrefix = '';
                    if (item.quality === 'Exotic') qualityPrefix = '★ ';
                    else if (item.quality === 'Named') qualityPrefix = '◆ ';
                    else if (item.quality === 'Gear Set') qualityPrefix = '◼ ';
                    
                    option.textContent = `${qualityPrefix}${item.name} (${item.brand})`;
                    dropdown.appendChild(option);
                }
            });
        }

        // Function to find gear item by slot and ID
        function findGearItem(slot, itemId) {
            // Handle plural/singular conversion
            let category = slot;
            if (slot === 'kneepads') category = 'kneepads';
            else category = slot + 's';
            
            return gearData[category][itemId];
        }
        
        // Function to generate build HTML from selected gear
        function generateBuild(selectedGear) {
            let buildHTML = '';
            let hasSelection = false;
            
            // Iterate through each selected gear item
            for (const [slot, itemId] of Object.entries(selectedGear)) {
                if (!itemId) continue;
                
                hasSelection = true;
                const item = findGearItem(slot, itemId);
                const qualityClass = `quality-${item.quality.toLowerCase().replace(' ', '-')}`;
                
                // Create HTML for this gear item
                buildHTML += `
                    <div class="gear-slot">
                        <div class="gear-name ${qualityClass}">${slot.charAt(0).toUpperCase() + slot.slice(1)}: ${item.name}</div>
                        <div class="gear-stats">
                            Brand: ${item.brand}<br>
                            Core: ${item.core}<br>
                            ${item.attributes ? `Attributes: ${item.attributes.join(', ')}<br>` : ''}
                            ${item.talent ? `Talent: ${item.talent}` : ''}
                        </div>
                    </div>
                `;
            }
            
            // Return message if no gear selected
            if (!hasSelection) {
                return '<p>Please select at least one gear item.</p>';
            }
            
            // Add build summary
            buildHTML += `
                <div class="build-summary">
                    <h3>Build Summary</h3>
                    <p>This build focuses on a combination of damage and utility. Adjust based on your playstyle.</p>
                </div>
            `;
            
            return buildHTML;
        }
        
        // Event listener for generate button - creates the build when clicked
        document.getElementById('generate-build').addEventListener('click', function() {
            // Get selected values from all dropdowns
            const selectedGear = {
                mask: document.getElementById('mask').value,
                backpack: document.getElementById('backpack').value,
                chest: document.getElementById('chest').value,
                gloves: document.getElementById('gloves').value,
                holster: document.getElementById('holster').value,
                kneepads: document.getElementById('kneepads').value,
                weapon: document.getElementById('weapon').value
            };
            
            // Generate HTML for the build
            const buildHTML = generateBuild(selectedGear);
            document.getElementById('build-output').innerHTML = buildHTML;
            
            // Switch to build tab to show the result
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelector('[data-tab="build"]').classList.add('active');
            document.getElementById('build-tab').classList.add('active');
        });
        
        // Initialize dropdowns with gear options when page loads
        populateDropdowns();
    </script>
</body>
</html>
